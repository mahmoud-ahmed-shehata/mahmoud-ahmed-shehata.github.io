<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>6 Residential Towers – Kenya | Mahmoud Shehata</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Project profile for 6 residential towers in Kenya – Mahmoud Shehata, Civil / Site Engineer.">

  <style>
    /* 
      متغيرات الثيم العامة
      الغرض: توحيد الألوان والخلفيات في الصفحة بالكامل
    */
    :root {
      --bg: #020617;
      --border: #1f2937;
      --accent: #1f6fff;
      --accent-soft: rgba(37, 99, 235, 0.45);
      --text: #f9fafb;
      --muted: #9ca3af;
      --max-width: 1040px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top, rgba(37, 99, 235, 0.4), transparent 55%),
        var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      line-height: 1.7;
      font-size: 16px; /* حجم الخط الأساسي (Body) – ستاندرد 16px */
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .shell {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 18px 16px 32px;
      width: 100%;
    }

    /* ---------------- HEADER / NAV ---------------- */

    header {
      position: sticky;
      top: 0;
      z-index: 40;
      backdrop-filter: blur(14px);
      background: linear-gradient(
        to bottom,
        rgba(3,7,18,0.96),
        rgba(3,7,18,0.88),
        transparent
      );
      border-bottom: 1px solid rgba(31,41,55,0.9);
    }

    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    /* 
      اللوجو:
      - ملف مقترح: assets/logo1.webp أو logo1.png
      - مقاس مناسب للصورة نفسها: 400×400 px تقريباً
      - الحجم المستهدف: أقل من 80 KB
    */
    .logo-mark {
      width: 46px;
      height: 46px;
      border-radius: 50%;
      background-image: url("../assets/logo1.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      flex-shrink: 0;
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.05),
        0 0 26px rgba(37,99,235,0.6);
    }

    .logo-text-main {
      font-size: 18px;          /* اسمك كبير وواضح */
      font-weight: 700;
      white-space: nowrap;
    }

    .logo-text-sub {
      font-size: 13px;
      color: var(--muted);
      white-space: nowrap;
    }

    .logo-text-sub span {
      color: #e5e7eb;
    }

    .nav-links {
      display: flex;
      gap: 18px;
      font-size: 14px;  /* حجم مناسب للّينكات في الهيدر */
      color: var(--muted);
      flex-wrap: wrap;
    }

    .nav-links a {
      position: relative;
      padding-bottom: 2px;
      cursor: pointer;
      white-space: nowrap;
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--accent), #5ba4ff);
      transition: width 0.18s ease-out;
    }

    .nav-links a:hover {
      color: var(--text);
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    main {
      flex: 1;
    }

    /* ---------------- HERO CARD ---------------- */

    .hero-card {
      border-radius: 24px;
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.22), transparent 60%),
                  linear-gradient(to bottom right, #020617, #020617);
      border: 1px solid rgba(15, 23, 42, 1);
      box-shadow: 0 26px 52px rgba(0, 0, 0, 0.7);
      overflow: hidden;
      margin-bottom: 26px;
      margin-top: 20px;
    }

    /* 
      صورة الهيرو الرئيسية للمشروع:
      - ملف مقترح: pr1-hero.webp
      - مقاس مناسب: 1600×900 أو 1920×1080 px
      - الحجم المستهدف: 200–350 KB
    */
    .hero-image {
      height: 260px;
      background-image: url("../assets/pr1-hero.webp");
      background-size: cover;
      background-position: center;
      position: relative;
    }

    .hero-image::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(2, 6, 23, 0.96), rgba(2, 6, 23, 0.2));
    }

    .hero-body {
      padding: 20px 22px 18px;
    }

    .hero-tag {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--muted);
      margin-bottom: 6px;
    }

    .hero-title {
      font-size: 30px;   /* العنوان الرئيسي للمشروع */
      font-weight: 700;
      margin-bottom: 8px;
    }

    .hero-meta {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .hero-meta span strong {
      color: #e5e7eb;
      font-weight: 600;
    }

    .hero-summary {
      font-size: 15px;
      color: var(--muted);
      line-height: 1.75;
    }

    .pill-row {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .pill {
      font-size: 13px;
      padding: 6px 13px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
      background: rgba(15, 23, 42, 0.9);
      white-space: nowrap;
    }

    /* ---------------- LAYOUT GRID (RESP + DATA + SKILLS) ---------------- */

    .layout-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.9fr) minmax(0, 1.25fr);
      gap: 20px;
      margin-top: 22px;
      align-items: flex-start;
    }

    .block {
      border-radius: 20px;
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.16), transparent 55%),
                  rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(31, 41, 55, 0.9);
      padding: 16px 18px 14px;
      font-size: 15px;
    }

    .block + .block {
      margin-top: 14px;
    }

    .block-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .block p {
      font-size: 15px;
      color: var(--muted);
      line-height: 1.7;
      margin-bottom: 6px;
    }

    .highlights-list {
      list-style: disc;
      padding-left: 20px;
      color: var(--muted);
      font-size: 15px;
    }

    .highlights-list li {
      margin-bottom: 6px;
    }

    .data-list {
      list-style: none;
      margin-top: 4px;
    }

    .data-list li {
      margin-bottom: 7px;
      color: var(--muted);
      font-size: 15px;
    }

    .data-list span.label {
      display: inline-block;
      width: 130px;
      color: #e5e7eb;
      font-weight: 600;
      font-size: 13px;
    }

    /* ---------------- PROJECT SKILLS ---------------- */

    .project-skills-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .skill-chip-row {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      max-width: 100%;
    }

    .skill-chip {
      font-size: 12px;
      padding: 5px 11px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.95);
      color: #e5e7eb;
      cursor: default;
      white-space: nowrap;
      max-width: 100%;
      text-overflow: ellipsis;
      overflow: hidden;
      transition:
        transform 0.18s ease-out,
        box-shadow 0.18s ease-out,
        border-color 0.18s ease-out,
        background 0.18s ease-out;
    }

    .skill-chip--primary {
      border-color: rgba(59,130,246,0.95);
    }

    .skill-chip--new {
      border-color: rgba(251,191,36,0.9);
      background: radial-gradient(circle at top left,
                    rgba(251,191,36,0.22),
                    rgba(15,23,42,0.95));
    }

    .skill-chip-new-badge {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.09em;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(251,191,36,1);
      color: #111827;
      font-weight: 600;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .skill-chip:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 26px rgba(0,0,0,0.55);
      border-color: rgba(96,165,250,0.95);
      background: rgba(15,23,42,1);
    }

    @media (max-width: 640px) {
      .project-skills-grid {
        gap: 6px;
      }
    }

    /* ---------------- GALLERY ---------------- */

    .section-subtitle {
      font-size: 17px;
      font-weight: 600;
      margin-top: 26px;
      margin-bottom: 6px;
    }

    .section-subtext {
      font-size: 15px;
      color: var(--muted);
      margin-bottom: 10px;
      max-width: 620px;
    }

    .project-gallery-wrapper {
      margin-top: 12px;
     
      padding-right: 4px;
    }

    .project-gallery-wrapper::-webkit-scrollbar {
      display: none;
    }
    .project-gallery-wrapper {
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .project-gallery-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    .project-gallery-item {
      border-radius: 16px;
      overflow: hidden;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(148,163,184,0.5);
      cursor: pointer;
      position: relative;
      box-shadow: 0 14px 30px rgba(0,0,0,0.6);
      transition: transform 0.18s ease-out, box-shadow 0.18s ease-out;
    }

    .project-gallery-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 18px 38px rgba(0,0,0,0.8);
    }

    /* 
      صور الجاليري:
      - ملفات: pr1-1.webp ... pr1-4.webp
      - مقاس مناسب لكل صورة: 1200×800 px تقريباً
      - الحجم المستهدف: 150–250 KB
    */
    .project-gallery-img {
      width: 100%;
      height: 190px;
      object-fit: cover;
      display: block;
      transition: transform 0.25s ease-out, filter 0.25s ease-out;
    }

    .project-gallery-item:hover .project-gallery-img {
      transform: scale(1.06);
      filter: brightness(1.08);
    }

    .project-gallery-overlay {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 6px 10px;
      background: linear-gradient(to top, rgba(15,23,42,0.95), rgba(15,23,42,0.0));
      color: #e5e7eb;
      font-size: 13px;
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    }

    .project-gallery-item:hover .project-gallery-overlay {
      opacity: 1;
      transform: translateY(0);
    }

    .project-gallery-title {
      font-weight: 500;
    }

    /* ---------------- POPUP VIEWER ---------------- */

    .image-viewer-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.82);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 18px;
    }

    .image-viewer-box {
      max-width: 90%;
      max-height: 85%;
      position: relative;
      background: #020617;
      border-radius: 18px;
      border: 1px solid rgba(31, 41, 55, 0.95);
      padding: 14px 16px 16px;
    }

    .image-viewer-box img {
      width: 100%;
      height: auto;
      max-height: 60vh;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.9);
      display: block;
      margin-bottom: 10px;
    }

    .image-viewer-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #e5e7eb;
      text-align: left;
    }

    .image-viewer-desc {
      color: #cbd5e1;
      font-size: 15px;
      line-height: 1.6;
      text-align: left;
    }

    .image-viewer-close {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 20px;
      color: #e5e7eb;
      cursor: pointer;
      user-select: none;
      width: 26px;
      height: 26px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.85);
      background: rgba(15, 23, 42, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .image-viewer-close:hover {
      background: rgba(37, 99, 235, 0.55);
      border-color: rgba(37, 99, 235, 1);
    }

    /* ---------------- BACK BUTTON ---------------- */

    .back-to-projects {
      margin-top: 50px;
      text-align: center;
    }

    .back-btn {
      display: inline-block;
      padding: 10px 22px;
      font-size: 14px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.8);
      background: rgba(15,23,42,0.96);
      color: #e5e7eb;
      text-decoration: none;
      transition: 0.2s ease;
      cursor: pointer;
    }

    .back-btn:hover {
      background: rgba(15,23,42,1);
      color: #fff;
      border-color: rgba(148,163,184,1);
      transform: translateY(-1px);
    }

    footer{
      border-top:1px solid rgba(31,41,55,0.9);
      padding:16px 18px 26px;
      font-size:11px;
      color:var(--muted);
      text-align:center;
      background:radial-gradient(circle at top, rgba(30,64,175,0.3), transparent 55%);
    }

    /* ---------------- RESPONSIVE ---------------- */

    @media (max-width: 860px) {
      .layout-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 700px) {
      .nav {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    @media (max-width: 640px) {
      .shell {
        padding-inline: 14px;
      }

      .hero-title {
        font-size: 24px;
      }

      .project-gallery-grid {
        grid-template-columns: minmax(0, 1fr);
      }

      .project-gallery-img {
        height: 210px;
      }
    }
  
/* ---------------- BACK BUTTON (Fixed) ----------------
  الهدف:
  - زر رجوع ثابت أعلى الصفحة
  - على اليمين عشان ما يغطيش اللوجو/الاسم على الموبايل
  - السهم على اليمين (Back →)
*/
.back-fab{
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 9999;

  padding: 10px 16px;
  border-radius: 12px;

  background: rgba(15,23,42,0.65);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  border: 1px solid rgba(148,163,184,0.45);
  color: #e5e7eb;
  font-size: 14px;
  font-weight: 600;
  text-decoration: none;

  transition: transform .15s ease, border-color .15s ease;
  cursor: pointer;
}
.back-fab:hover{
  transform: translateY(-1px);
  border-color: rgba(255,255,255,0.75);
}
@media (max-width: 640px){
  .back-fab{
    top: 14px;
    right: 14px;
    padding: 9px 14px;
    font-size: 13px;
  }
}

</style>
</head>
<body>
<a class="back-fab" id="backBtn" href="../index.html#projects">Back →</a>

<div class="page">
  <!-- HEADER -->
  <header>
    <div class="shell">
      <nav class="nav">
        <!-- اللوجو + الاسم -->
        <a href="../index.html#home-banner" class="logo-wrap">
          <div class="logo-mark"></div>
          <div>
            <div class="logo-text-main">Mahmoud Shehata</div>
            <div class="logo-text-sub">
              <span>Civil / Project Engineer</span> · Abu Dhabi, UAE
            </div>
          </div>
        </a>

        <!-- لينكات الأقسام في الصفحة الرئيسية -->
        <div class="nav-links">
          <a href="../index.html#home-banner">Home</a>
          <a href="../index.html#about">About</a>
          <a href="../index.html#projects">Projects</a>
          <a href="../index.html#skills">Skills</a>
          <a href="../index.html#certifications">Certifications</a>
          <a href="../index.html#contact">Contact</a>
</div>
      </nav>
    </div>
  </header>

  <main>
    <div class="shell">
      <!-- HERO -->
      <section class="hero-card">
        <div class="hero-image"></div>
        <div class="hero-body">
          <div class="hero-tag">Residential towers · Kenya</div>
          <h1 class="hero-title">6 Residential Towers</h1>
          <div class="hero-meta">
            <span><strong>Role:</strong> Site Engineer</span>
            <span><strong>Company:</strong> Smarkit Company</span>
          </div>
          <p class="hero-summary">
            A residential project consisting of 6 multi-storey towers, including structural works, blockwork and finishing
            activities. My responsibility as a Site Engineer covered site supervision, surveying, quality control and
            coordination with local subcontractors and consultants to keep the works aligned with drawings and specifications.
          </p>

          <div class="pill-row">
            <span class="pill">Reinforced concrete frames</span>
            <span class="pill">Residential towers</span>
            <span class="pill">Site supervision</span>
            <span class="pill">Surveying & setting-out</span>
            <span class="pill">QA/QC checks</span>
          </div>
        </div>
      </section>

      <!-- GRID: Responsibilities + Data + Skills -->
      <section class="layout-grid">
        <!-- LEFT: Responsibilities -->
        <div class="block">
          <div class="block-title">Key responsibilities & highlights</div>
          <ul class="highlights-list">
            <li>Supervising daily structural works including foundations, columns, slabs and staircases for the 6 residential towers.</li>
            <li>Carrying out surveying and setting-out for grids, levels and key structural elements before execution.</li>
            <li>Monitoring blockwork, plaster and basic finishing activities to ensure they follow drawings and quality requirements.</li>
            <li>Coordinating with the project engineer and foremen to sequence activities and avoid delays on critical structural items.</li>
            <li>Following up with subcontractors on manpower, work fronts and resolving technical issues on site.</li>
            <li>Checking reinforcement installation, formwork and concrete pours and raising any discrepancies to the senior engineer.</li>
            <li>Preparing simple site reports, recording daily progress and highlighting any constraints or material shortages.</li>
            <li>Ensuring that safety instructions are followed and that access routes and working areas remain organised.</li>
            <li>Supporting quality inspections for concrete, masonry and basic finishing based on project checklists.</li>
            <li>Coordinating with local consultants or representatives for inspections and clarifications when needed.</li>
          </ul>
        </div>

        <!-- RIGHT: Project data + Project skills -->
        <div>
          <!-- Project data -->
          <div class="block">
            <div class="block-title">Project data</div>
            <ul class="data-list">
              <li><span class="label">Project</span>6 Residential Towers</li>
              <li><span class="label">Location</span>Kenya</li>
              <li><span class="label">Role</span>Site Engineer</li>
              <li><span class="label">Company</span>Smarkit Company</li>
              <li><span class="label">Type</span>Residential · Multi-storey</li>
            </ul>
          </div>

          <!-- Project skills -->
          <div class="block">
            <div class="block-title">Project skills</div>
            <p>Skills applied and developed during the project.</p>

            <div class="project-skills-grid">
              <!-- CORE SKILLS -->
              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--primary">Site supervision</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--primary">Surveying & setting-out</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--primary">Reinforced concrete works</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--primary">Blockwork & plaster checks</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--primary">Coordination with foremen</span>
              </div>

              <!-- SUPPORTING SKILLS -->
              <div class="skill-chip-row">
                <span class="skill-chip">Daily progress reporting</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip">Quality control basics</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip">Concrete pour follow-up</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip">Site safety awareness</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip">Communication with local teams</span>
              </div>

              <!-- NEW SKILLS -->
              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--new">High-rise tower coordination</span>
                <span class="skill-chip-new-badge">NEW</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--new">Survey equipment handling</span>
                <span class="skill-chip-new-badge">NEW</span>
              </div>

              <div class="skill-chip-row">
                <span class="skill-chip skill-chip--new">Early QA/QC exposure</span>
                <span class="skill-chip-new-badge">NEW</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- GALLERY -->
      <section class="project-gallery-section">
        <div class="section-subtitle">Project gallery</div>
        <p class="section-subtext">
          Selected photos from structural and early finishing stages of the 6 residential towers project in Kenya.
        </p>

        <div class="project-gallery-wrapper">
          <div class="project-gallery-grid">
            <!-- صورة 1 -->
            <div class="project-gallery-item"
                 data-title="Tower structural works"
                 data-desc="Reinforced concrete works for one of the residential towers, showing columns and slab system.">
              <img src="../assets/pr1-1.webp" alt="Tower structural works" class="project-gallery-img">
              <div class="project-gallery-overlay">
                <div class="project-gallery-title">Tower structural works</div>
              </div>
            </div>

            <!-- صورة 2 -->
            <div class="project-gallery-item"
                 data-title="Surveying and setting-out"
                 data-desc="On-site surveying and setting-out for structural elements and grid lines.">
              <img src="../assets/pr1-2.webp" alt="Surveying and setting-out" class="project-gallery-img">
              <div class="project-gallery-overlay">
                <div class="project-gallery-title">Surveying and setting-out</div>
              </div>
            </div>

            <!-- صورة 3 -->
            <div class="project-gallery-item"
                 data-title="Blockwork and internal partitions"
                 data-desc="Blockwork and internal partitions under supervision, ensuring alignment and openings.">
              <img src="../assets/pr1-3.webp" alt="Blockwork and internal partitions" class="project-gallery-img">
              <div class="project-gallery-overlay">
                <div class="project-gallery-title">Blockwork and internal partitions</div>
              </div>
            </div>

            <!-- صورة 4 -->
            <div class="project-gallery-item"
                 data-title="Site overview"
                 data-desc="General overview of the project site showing multiple towers under construction.">
              <img src="../assets/pr1-4.webp" alt="Site overview" class="project-gallery-img">
              <div class="project-gallery-overlay">
                <div class="project-gallery-title">Site overview</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- POPUP VIEWER -->
      <div class="image-viewer-overlay" id="viewer">
        <div class="image-viewer-box">
          <span class="image-viewer-close" id="viewerClose">×</span>
          <img id="viewerImg" src="" alt="Expanded project image">
          <div class="image-viewer-title" id="viewerTitle"></div>
          <div class="image-viewer-desc" id="viewerDesc"></div>
        </div>
      </div>

      <!-- BACK TO PROJECTS -->
</div>
  </main>

  <footer>
  © <span id="year"></span> Mahmoud Shehata · Civil / Project Engineer. All rights reserved.
</footer>
</div>

<script>
  // تحديث سنة الفوتر تلقائياً
  document.getElementById("year").textContent = new Date().getFullYear();

  // سكريبت البوب أب للجاليري
  const viewer = document.getElementById("viewer");
  const viewerImg = document.getElementById("viewerImg");
  const viewerTitle = document.getElementById("viewerTitle");
  const viewerDesc = document.getElementById("viewerDesc");
  const viewerClose = document.getElementById("viewerClose");

  document.querySelectorAll(".project-gallery-item").forEach(item => {
    item.addEventListener("click", () => {
      const imgEl = item.querySelector("img");
      viewerImg.src = imgEl ? imgEl.src : "";
      viewerTitle.textContent = item.dataset.title || "";
      viewerDesc.textContent = item.dataset.desc || "";
      viewer.style.display = "flex";
    });
  });

  viewerClose.addEventListener("click", () => {
    viewer.style.display = "none";
  });

  viewer.addEventListener("click", (e) => {
    if (e.target === viewer) {
      viewer.style.display = "none";
    }
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && viewer.style.display === "flex") {
      viewer.style.display = "none";
    }
  });
</script>

<script>
(function () {
  const params = new URLSearchParams(window.location.search);
  const fromId = params.get("from");
  const btn = document.getElementById("backBtn");
  if (!btn) return;

  if (fromId) {
    btn.href = "../index.html?from=" + encodeURIComponent(fromId);
    sessionStorage.setItem("lastProjectId", fromId);
  } else {
    btn.href = "../index.html#projects";
  }
})();
</script>

</body>
</html>
